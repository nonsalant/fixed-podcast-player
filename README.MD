# Fixed Podcast Player

[![Netlify Status](https://api.netlify.com/api/v1/badges/add63bda-b777-4889-95d9-68e936a82751/deploy-status)](https://app.netlify.com/sites/fixed-podcast-player/deploys)

Web Component for an audio player and a <em>Play</em> button. The player is revealed when the button is scrolled into view.

## Preview
- **[Preview on Netlify](https://fixed-podcast-player.netlify.app/)**
- [View on CodePen](https://codepen.io/nonsalant/pen/pvoyRmZ)

## Usage

### 1. Include the assets in the `<head>`

```html
<!-- Podcast Player Assets (Global CSS, Scoped CSS, SVG, JS) -->
<link rel="stylesheet" href="./assets/global.css">
<link rel="stylesheet" media="scoped-podcast-player" href="./assets/build/style.min.css">
<link rel="preload" media="scoped-podcast-player" href="./assets/icons.svg" type="image/svg+xml" as="image">
<script type="module" src="./assets/build/script.min.js"></script>
```

ðŸ‘‰ Note: The `<link rel="preload">` above (3rd item) sets the URL for the [SVG sprite sheet](https://ryantrimble.com/blog/what-the-heck-is-an-svg-sprite-sheet.html) used for the icons.

### 2. Add the `<podcast-player>` element in the `<body>`

```html
<podcast-player data-title="â€¦" data-thumb="â€¦">
  <a href="[â€¦].mp3" class="show-and-play">
    <div><i icon-name="play-circle-solid"></i><b>Play</b></div>
    <div><i icon-name="pause-circle"></i><span>Pause</span></div>
    <div><i icon-name="play-circle"></i><span>Resume</span></div>
  </a>
</podcast-player>
```

ðŸ‘‰ Note: the `href` of the `.show-and-play` link is the audio source (i.e. the mp3 URL).

## Attributes for the `<podcast-player>` element
| Option | Default | Description |
| --- | --- | --- |
| `data-title` | `""` | The title of the episode |
| `data-thumb` | `""` | The URL to the thumbnail image |
| `data-position` | `"bottom"` | The position of the player: `top` or `bottom` |
| `data-variation` | `""` | Player will not touch the edge on large screens if set to `floating` |
| `show-on` | `"scroll"` | The button event that triggers the player to show: `scroll` (when the button is scrolled into view for the first time), `click`, `load`, or `hover` |

## Overridable CSS Variables
Add these variables to your CSS to override the default values:
```css
:root {
  --pp-offset-top: 0px;
  --pp-offset-top-small: 0px;
  --pp-content-width: 40rem;
  --pp-radius: 1.25rem / 1rem;
  --pp-hue: 205deg;
  --pp-sat: 35%;
  --pp-lig: 40%;
  --pp-gradient-hue-difference: 15deg;
  --body-offset-for-player: 110px;
}
```
| Variable | Default | Description |
| --- | --- | --- |
| `--pp-offset-top` | `0px` | Account for any sticky header or navigation |
| `--pp-offset-top-small` | `0px` | Account for any sticky header or navigation on small screens |
| `--pp-content-width` | `40rem` | The "content" width of the player |
| `--pp-radius` | `1.25rem / 1rem` | The border radius of the player. The `x / y` format means the corners will be more oval (when `x` is different from `y`) instead of circular |
| `--pp-hue` | `205deg` | The hue of the Play button's background color |
| `--pp-sat` | `35%` | The saturation of the Play button's background color |
| `--pp-lig` | `40%` | The lightness of the Play button's background color |
| `--pp-gradient-hue-difference` | `15deg` | The difference in hue between the two colors of the player's background gradient |
| `--body-offset-for-player` | `110px` | Extra padding for the body (at the top or at the bottom) to make space for the player |

## Build Commands

Install (if not done yet) and run the dev command (asset watch only, no server):
```bash
pnpm install
pnpm run dev
```

Build only command (no watch):
```bash
pnpm run build
```


